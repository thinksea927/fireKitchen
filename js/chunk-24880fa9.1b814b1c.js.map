{"version":3,"sources":["webpack:///./src/views/Frontend/Cart.vue?090c","webpack:///src/views/Frontend/Cart.vue","webpack:///./src/views/Frontend/Cart.vue?91e9","webpack:///./src/views/Frontend/Cart.vue","webpack:///./node_modules/core-js/modules/es.array.concat.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","on","$event","_v","carts","_l","item","key","product","id","staticStyle","style","backgroundImage","imageUrl","_s","title","quantity","updateCarts","directives","name","rawName","value","expression","domProps","target","composing","$set","_f","price","deleteCarts","staticRenderFns","data","status","loadingItem","methods","getCarts","axios","get","api","patch","tempCart","delete","created","component","$","fails","isArray","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","proto","forced","arg","i","k","length","len","E","A","n","arguments","TypeError"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,iCAAiC,CAACF,EAAG,UAAU,CAACG,MAAM,CAAC,OAASP,EAAIQ,WAAWC,GAAG,CAAC,gBAAgB,SAASC,GAAQV,EAAIQ,UAAUE,MAAWN,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACF,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACN,EAAIW,GAAG,SAASP,EAAG,cAAc,CAACE,YAAY,UAAUC,MAAM,CAAC,GAAK,cAAc,CAACH,EAAG,SAAS,CAACE,YAAY,qCAAqC,CAACF,EAAG,IAAI,CAACE,YAAY,wBAAwBF,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACN,EAAIW,GAAG,eAAe,GAAGP,EAAG,MAAOJ,EAAIY,MAAY,OAAER,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACN,EAAIa,GAAIb,EAAS,OAAE,SAASc,GAAM,OAAOV,EAAG,MAAM,CAACW,IAAID,EAAKE,QAAQC,GAAGX,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,6CAA6C,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgBY,YAAY,CAAC,OAAS,QAAQ,kBAAkB,QAAQ,sBAAsB,UAAUC,MAAM,CAAEC,gBACv9B,QAAWN,EAAKE,QAAQK,SAAS,GAAM,QAAUjB,EAAG,OAAO,CAACE,YAAY,mCAAmC,CAACN,EAAIW,GAAG,IAAIX,EAAIsB,GAAGR,EAAKE,QAAQO,OAAO,SAASnB,EAAG,MAAM,CAACE,YAAY,0DAA0D,CAACF,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,SAAS,CAACE,YAAY,4BAA4BC,MAAM,CAAC,KAAO,SAAS,SAAWO,EAAKU,UAAW,GAAGf,GAAG,CAAC,MAAQ,SAASC,GAAQI,EAAKU,UAAY,EAC1dxB,EAAIyB,YAAYX,EAAKE,QAAQC,GAAIH,EAAKU,aAAa,CAACpB,EAAG,IAAI,CAACE,YAAY,qBAAqBF,EAAG,QAAQ,CAACsB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOf,EAAa,SAAEgB,WAAW,kBAAkBxB,YAAY,2BAA2BC,MAAM,CAAC,KAAO,QAAQwB,SAAS,CAAC,MAASjB,EAAa,UAAGL,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOsB,OAAOC,WAAqBjC,EAAIkC,KAAKpB,EAAM,WAAYJ,EAAOsB,OAAOH,WAAWzB,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,SAAS,CAACE,YAAY,4BAA4BC,MAAM,CAAC,KAAO,UAAUE,GAAG,CAAC,MAAQ,SAASC,GAAQI,EAAKU,WAC3jBxB,EAAIyB,YAAYX,EAAKE,QAAQC,GAAIH,EAAKU,aAAa,CAACpB,EAAG,IAAI,CAACE,YAAY,sBAAsBF,EAAG,OAAO,CAACE,YAAY,kBAAkB,CAACN,EAAIW,GAAG,OAAOX,EAAIsB,GAAGtB,EAAImC,GAAG,WAAPnC,CAAmBc,EAAKE,QAAQoB,WAAWhC,EAAG,MAAM,CAACE,YAAY,uCAAuCG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOV,EAAIqC,YAAYvB,EAAKE,QAAQC,OAAO,CAACb,EAAG,IAAI,CAACE,YAAY,8BAA6BF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,cAAc,CAACE,YAAY,uCAAuCC,MAAM,CAAC,GAAK,eAAe,CAACP,EAAIW,GAAG,cAAc,IAAI,GAAGP,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,KAAK,CAACE,YAAY,eAAe,CAACN,EAAIW,GAAG,uBAAuB,IACtpB2B,EAAkB,GC6DtB,G,UAAA,CACEC,KADF,WAEI,MAAO,CACL3B,MAAO,CACb,CACQ,QAAR,CACU,SAAV,GACU,MAAV,MAIMJ,WAAW,EACXgC,OAAQ,CACNC,YAAa,MAInBC,QAAS,CACPC,SADJ,WACA,WACA,wHACM1C,KAAKO,WAAY,EACjBP,KAAK2C,MAAMC,IAAIC,GACrB,kBAAQ,IAAR,EACQ,EAAR,8CACQ,EAAR,gBAEA,mBACQ,EAAR,aACQ,EAAR,yEAGIrB,YAdJ,SAcA,yEACMxB,KAAKO,WAAY,EACjB,IAAN,wHACA,GACQQ,QAASC,EACTO,SAAR,GAEMvB,KAAK2C,MAAMG,MAAMD,EAAKE,GAC5B,iBACQ,EAAR,aACQ,EAAR,iDAEA,mBACQ,EAAR,aACQ,EAAR,qFAGIX,YA/BJ,SA+BA,cACMpC,KAAKO,WAAY,EACjB,IAAN,mIACA,GACQQ,QAASC,GAEXhB,KAAK2C,MAAMK,OAAOH,EAAKE,GAC7B,iBACQ,EAAR,0BACQ,EAAR,aACQ,EAAR,gDACQ,EAAR,cAEA,mBACQ,EAAR,aACQ,EAAR,sFAIEE,QAnEF,WAoEIjD,KAAK0C,cCrIoV,I,YCOzVQ,EAAY,eACd,EACApD,EACAuC,GACA,EACA,KACA,KACA,MAIa,aAAAa,E,6CCjBf,IAAIC,EAAI,EAAQ,QACZC,EAAQ,EAAQ,QAChBC,EAAU,EAAQ,QAClBC,EAAW,EAAQ,QACnBC,EAAW,EAAQ,QACnBC,EAAW,EAAQ,QACnBC,EAAiB,EAAQ,QACzBC,EAAqB,EAAQ,QAC7BC,EAA+B,EAAQ,QACvCC,EAAkB,EAAQ,QAC1BC,EAAa,EAAQ,QAErBC,EAAuBF,EAAgB,sBACvCG,EAAmB,iBACnBC,EAAiC,iCAKjCC,EAA+BJ,GAAc,KAAOT,GAAM,WAC5D,IAAIc,EAAQ,GAEZ,OADAA,EAAMJ,IAAwB,EACvBI,EAAMC,SAAS,KAAOD,KAG3BE,EAAkBT,EAA6B,UAE/CU,EAAqB,SAAUC,GACjC,IAAKhB,EAASgB,GAAI,OAAO,EACzB,IAAIC,EAAaD,EAAER,GACnB,YAAsBU,IAAfD,IAA6BA,EAAalB,EAAQiB,IAGvDG,GAAUR,IAAiCG,EAK/CjB,EAAE,CAAEpB,OAAQ,QAAS2C,OAAO,EAAMC,OAAQF,GAAU,CAElDN,OAAQ,SAAgBS,GACtB,IAGIC,EAAGC,EAAGC,EAAQC,EAAKC,EAHnBX,EAAIf,EAASvD,MACbkF,EAAIxB,EAAmBY,EAAG,GAC1Ba,EAAI,EAER,IAAKN,GAAK,EAAGE,EAASK,UAAUL,OAAQF,EAAIE,EAAQF,IAElD,GADAI,GAAW,IAAPJ,EAAWP,EAAIc,UAAUP,GACzBR,EAAmBY,GAAI,CAEzB,GADAD,EAAMxB,EAASyB,EAAEF,QACbI,EAAIH,EAAMjB,EAAkB,MAAMsB,UAAUrB,GAChD,IAAKc,EAAI,EAAGA,EAAIE,EAAKF,IAAKK,IAASL,KAAKG,GAAGxB,EAAeyB,EAAGC,EAAGF,EAAEH,QAC7D,CACL,GAAIK,GAAKpB,EAAkB,MAAMsB,UAAUrB,GAC3CP,EAAeyB,EAAGC,IAAKF,GAI3B,OADAC,EAAEH,OAASI,EACJD","file":"js/chunk-24880fa9.1b814b1c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cart cart-height bg-primary-1\"},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',{staticClass:\"container py-5\"},[_c('div',{staticClass:\"d-flex align-items-center\"},[_c('h4',{staticClass:\"mb-0\"},[_vm._v(\"購物車\")]),_c('router-link',{staticClass:\"ml-auto\",attrs:{\"to\":\"/products\"}},[_c('button',{staticClass:\"btn btn-outline-dark rounded-pill\"},[_c('i',{staticClass:\"fas fa-chevron-left\"}),_c('span',{staticClass:\"ml-2\"},[_vm._v(\"繼續點餐\")])])])],1),_c('hr'),(_vm.carts.length)?_c('div',{staticClass:\"cart-wrapper\"},[_vm._l((_vm.carts),function(item){return _c('div',{key:item.product.id,staticClass:\"row py-5\"},[_c('div',{staticClass:\"col-12 col-md-6 d-flex align-items-center\"},[_c('div',{staticClass:\"d-block w-100\",staticStyle:{\"height\":\"100px\",\"background-size\":\"cover\",\"background-position\":\"center\"},style:({backgroundImage:\n          (\"url('\" + (item.product.imageUrl[0]) + \"')\")})}),_c('span',{staticClass:\"font-noto w-50 text-center px-3\"},[_vm._v(\" \"+_vm._s(item.product.title)+\" \")])]),_c('div',{staticClass:\"col-12 col-md-6 d-flex align-items-center mt-3 mt-md-0\"},[_c('div',{staticClass:\"input-group w-50\"},[_c('div',{staticClass:\"input-group-prepend\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"type\":\"button\",\"disabled\":item.quantity <=1},on:{\"click\":function($event){item.quantity -= 1;\n              _vm.updateCarts(item.product.id, item.quantity)}}},[_c('i',{staticClass:\"fas fa-minus\"})])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.quantity),expression:\"item.quantity\"}],staticClass:\"form-control text-center\",attrs:{\"type\":\"text\"},domProps:{\"value\":(item.quantity)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"quantity\", $event.target.value)}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){item.quantity ++;\n              _vm.updateCarts(item.product.id, item.quantity)}}},[_c('i',{staticClass:\"fas fa-plus\"})])])]),_c('span',{staticClass:\"ml-5 text-dark\"},[_vm._v(\"NT$ \"+_vm._s(_vm._f(\"currency\")(item.product.price)))]),_c('div',{staticClass:\"icon-wrapper pointer ml-auto pointer\",on:{\"click\":function($event){return _vm.deleteCarts(item.product.id)}}},[_c('i',{staticClass:\"fas fa-trash-alt\"})])])])}),_c('div',{staticClass:\"d-flex mt-3\"},[_c('router-link',{staticClass:\"btn btn-dark text-white px-5 ml-auto\",attrs:{\"to\":\"/cart-form\"}},[_vm._v(\" 確認購物車 \")])],1)],2):_c('div',{staticClass:\"cart-wrapper\"},[_c('h4',{staticClass:\"text-center\"},[_vm._v(\" 您的購物車目前是空的 \")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"cart cart-height bg-primary-1\">\n    <loading :active.sync=\"isLoading\"></loading>\n    <div class=\"container py-5\">\n      <div class=\"d-flex align-items-center\">\n        <h4 class=\"mb-0\">購物車</h4>\n        <router-link to=\"/products\" class=\"ml-auto\">\n          <button class=\"btn btn-outline-dark rounded-pill\">\n            <i class=\"fas fa-chevron-left\"></i>\n            <span class=\"ml-2\">繼續點餐</span>\n          </button>\n        </router-link>\n      </div>\n      <hr />\n      <div class=\"cart-wrapper\" v-if=\"carts.length\">\n        <div class=\"row py-5\" v-for=\"item in carts\" :key=\"item.product.id\">\n          <div class=\"col-12 col-md-6 d-flex align-items-center\">\n            <div class=\"d-block w-100\" :style=\"{backgroundImage:\n            `url('${item.product.imageUrl[0]}')`}\"\n                style=\"height: 100px; background-size: cover; background-position: center\">\n            </div>\n            <span class=\"font-noto w-50 text-center px-3\">\n              {{ item.product.title }}\n            </span>\n          </div>\n          <div class=\"col-12 col-md-6 d-flex align-items-center mt-3 mt-md-0\">\n            <!-- <div class=\"product-quantity d-flex\"> -->\n            <div class=\"input-group w-50\">\n              <div class=\"input-group-prepend\">\n                <button type=\"button\" class=\"btn btn-outline-secondary\" @click=\"item.quantity -= 1;\n                updateCarts(item.product.id, item.quantity)\"\n                :disabled=\"item.quantity <=1\">\n                  <i class=\"fas fa-minus\"></i>\n                </button>\n              </div>\n              <input type=\"text\" class=\"form-control text-center\" v-model=\"item.quantity\"/>\n              <div class=\"input-group-append\">\n                <button type=\"button\" class=\"btn btn-outline-secondary\" @click=\"item.quantity ++;\n                updateCarts(item.product.id, item.quantity)\">\n                  <i class=\"fas fa-plus\"></i>\n                </button>\n              </div>\n            </div>\n            <span class=\"ml-5 text-dark\">NT$ {{ item.product.price | currency}}</span>\n            <div class=\"icon-wrapper pointer ml-auto pointer\"\n            @click=\"deleteCarts(item.product.id)\">\n              <i class=\"fas fa-trash-alt\"></i>\n            </div>\n          </div>\n        </div>\n        <div class=\"d-flex mt-3\">\n          <router-link to=\"/cart-form\" class=\"btn btn-dark text-white px-5 ml-auto\">\n            確認購物車\n          </router-link>\n        </div>\n      </div>\n      <div class=\"cart-wrapper\" v-else>\n        <h4 class=\"text-center\">\n          您的購物車目前是空的\n        </h4>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      carts: [\n        {\n          product: {\n            imageUrl: '',\n            price: '',\n          },\n        },\n      ],\n      isLoading: false,\n      status: {\n        loadingItem: '',\n      },\n    };\n  },\n  methods: {\n    getCarts() {\n      const api = `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/ec/shopping`;\n      this.isLoading = true;\n      this.axios.get(api)\n        .then((res) => {\n          this.carts = res.data.data ?? [];\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          this.isLoading = false;\n          this.$bus.$emit('toast-message', `${err.response.data.errors}`, 'info');\n        });\n    },\n    updateCarts(id, quantity = 1) {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/ec/shopping`;\n      const tempCart = {\n        product: id,\n        quantity,\n      };\n      this.axios.patch(api, tempCart)\n        .then(() => {\n          this.isLoading = false;\n          this.$bus.$emit('toast-message', '更新購物車成功', 'white');\n        })\n        .catch((err) => {\n          this.isLoading = false;\n          this.$bus.$emit('toast-message', `更新購物車失敗，請洽客服人員 02-8563253，錯誤訊息如下：${err}`, 'info');\n        });\n    },\n    deleteCarts(id) {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/ec/shopping/${id}`;\n      const tempCart = {\n        product: id,\n      };\n      this.axios.delete(api, tempCart)\n        .then(() => {\n          this.$bus.$emit('cartNumbers');\n          this.isLoading = false;\n          this.$bus.$emit('toast-message', '成功刪除購物車項目', 'white');\n          this.getCarts();\n        })\n        .catch((err) => {\n          this.isLoading = false;\n          this.$bus.$emit('toast-message', `刪除購物車失敗，請洽客服人員 02-8563253，錯誤訊息如下：${err}`, 'info');\n        });\n    },\n  },\n  created() {\n    this.getCarts();\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Cart.vue?vue&type=template&id=7a793b46&\"\nimport script from \"./Cart.vue?vue&type=script&lang=js&\"\nexport * from \"./Cart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n"],"sourceRoot":""}