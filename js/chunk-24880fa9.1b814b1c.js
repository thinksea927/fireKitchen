(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24880fa9"],{3305:function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"cart cart-height bg-primary-1"},[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),s("div",{staticClass:"container py-5"},[s("div",{staticClass:"d-flex align-items-center"},[s("h4",{staticClass:"mb-0"},[t._v("購物車")]),s("router-link",{staticClass:"ml-auto",attrs:{to:"/products"}},[s("button",{staticClass:"btn btn-outline-dark rounded-pill"},[s("i",{staticClass:"fas fa-chevron-left"}),s("span",{staticClass:"ml-2"},[t._v("繼續點餐")])])])],1),s("hr"),t.carts.length?s("div",{staticClass:"cart-wrapper"},[t._l(t.carts,(function(a){return s("div",{key:a.product.id,staticClass:"row py-5"},[s("div",{staticClass:"col-12 col-md-6 d-flex align-items-center"},[s("div",{staticClass:"d-block w-100",staticStyle:{height:"100px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url('"+a.product.imageUrl[0]+"')"}}),s("span",{staticClass:"font-noto w-50 text-center px-3"},[t._v(" "+t._s(a.product.title)+" ")])]),s("div",{staticClass:"col-12 col-md-6 d-flex align-items-center mt-3 mt-md-0"},[s("div",{staticClass:"input-group w-50"},[s("div",{staticClass:"input-group-prepend"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button",disabled:a.quantity<=1},on:{click:function(s){a.quantity-=1,t.updateCarts(a.product.id,a.quantity)}}},[s("i",{staticClass:"fas fa-minus"})])]),s("input",{directives:[{name:"model",rawName:"v-model",value:a.quantity,expression:"item.quantity"}],staticClass:"form-control text-center",attrs:{type:"text"},domProps:{value:a.quantity},on:{input:function(s){s.target.composing||t.$set(a,"quantity",s.target.value)}}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(s){a.quantity++,t.updateCarts(a.product.id,a.quantity)}}},[s("i",{staticClass:"fas fa-plus"})])])]),s("span",{staticClass:"ml-5 text-dark"},[t._v("NT$ "+t._s(t._f("currency")(a.product.price)))]),s("div",{staticClass:"icon-wrapper pointer ml-auto pointer",on:{click:function(s){return t.deleteCarts(a.product.id)}}},[s("i",{staticClass:"fas fa-trash-alt"})])])])})),s("div",{staticClass:"d-flex mt-3"},[s("router-link",{staticClass:"btn btn-dark text-white px-5 ml-auto",attrs:{to:"/cart-form"}},[t._v(" 確認購物車 ")])],1)],2):s("div",{staticClass:"cart-wrapper"},[s("h4",{staticClass:"text-center"},[t._v(" 您的購物車目前是空的 ")])])])],1)},e=[],n=(s("99af"),{data:function(){return{carts:[{product:{imageUrl:"",price:""}}],isLoading:!1,status:{loadingItem:""}}},methods:{getCarts:function(){var t=this,a="".concat("https://course-ec-api.hexschool.io/api","/").concat("3802fa0c-830d-47a0-a19f-9616c3fcd8ae","/ec/shopping");this.isLoading=!0,this.axios.get(a).then((function(a){var s;t.carts=null!==(s=a.data.data)&&void 0!==s?s:[],t.isLoading=!1})).catch((function(a){t.isLoading=!1,t.$bus.$emit("toast-message","".concat(a.response.data.errors),"info")}))},updateCarts:function(t){var a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.isLoading=!0;var i="".concat("https://course-ec-api.hexschool.io/api","/").concat("3802fa0c-830d-47a0-a19f-9616c3fcd8ae","/ec/shopping"),e={product:t,quantity:s};this.axios.patch(i,e).then((function(){a.isLoading=!1,a.$bus.$emit("toast-message","更新購物車成功","white")})).catch((function(t){a.isLoading=!1,a.$bus.$emit("toast-message","更新購物車失敗，請洽客服人員 02-8563253，錯誤訊息如下：".concat(t),"info")}))},deleteCarts:function(t){var a=this;this.isLoading=!0;var s="".concat("https://course-ec-api.hexschool.io/api","/").concat("3802fa0c-830d-47a0-a19f-9616c3fcd8ae","/ec/shopping/").concat(t),i={product:t};this.axios.delete(s,i).then((function(){a.$bus.$emit("cartNumbers"),a.isLoading=!1,a.$bus.$emit("toast-message","成功刪除購物車項目","white"),a.getCarts()})).catch((function(t){a.isLoading=!1,a.$bus.$emit("toast-message","刪除購物車失敗，請洽客服人員 02-8563253，錯誤訊息如下：".concat(t),"info")}))}},created:function(){this.getCarts()}}),c=n,o=s("2877"),r=Object(o["a"])(c,i,e,!1,null,null,null);a["default"]=r.exports},"99af":function(t,a,s){"use strict";var i=s("23e7"),e=s("d039"),n=s("e8b5"),c=s("861d"),o=s("7b0b"),r=s("50c4"),u=s("8418"),d=s("65f0"),l=s("1dde"),p=s("b622"),f=s("2d00"),h=p("isConcatSpreadable"),g=9007199254740991,m="Maximum allowed index exceeded",v=f>=51||!e((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),C=l("concat"),b=function(t){if(!c(t))return!1;var a=t[h];return void 0!==a?!!a:n(t)},y=!v||!C;i({target:"Array",proto:!0,forced:y},{concat:function(t){var a,s,i,e,n,c=o(this),l=d(c,0),p=0;for(a=-1,i=arguments.length;a<i;a++)if(n=-1===a?c:arguments[a],b(n)){if(e=r(n.length),p+e>g)throw TypeError(m);for(s=0;s<e;s++,p++)s in n&&u(l,p,n[s])}else{if(p>=g)throw TypeError(m);u(l,p++,n)}return l.length=p,l}})}}]);
//# sourceMappingURL=chunk-24880fa9.1b814b1c.js.map